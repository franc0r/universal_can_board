EESchema Schematic File Version 4
LIBS:stm-universal-can-board-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Universal CAN Board"
Date "2018-09-30"
Rev "1"
Comp "FRANCOR - Franconian Open Robotics"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L MCU_ST_STM32L4:STM32L476RGTx U?
U 1 1 5BB52D84
P 10250 4500
F 0 "U?" H 10250 2614 50  0000 C CNN
F 1 "STM32L476RGTx" H 10250 2523 50  0000 C CNN
F 2 "Package_QFP:LQFP-64_10x10mm_P0.5mm" H 9650 2800 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00108832.pdf" H 10250 4500 50  0001 C CNN
	1    10250 4500
	1    0    0    -1  
$EndComp
$Comp
L Interface_USB:FT232RL U?
U 1 1 5BB52E58
P 2600 4800
F 0 "U?" H 2000 5700 50  0000 C CNN
F 1 "FT232RL" H 3100 5700 50  0000 C CNN
F 2 "Package_SO:SSOP-28_5.3x10.2mm_P0.65mm" H 2600 4800 50  0001 C CNN
F 3 "http://www.ftdichip.com/Products/ICs/FT232RL.htm" H 2600 4800 50  0001 C CNN
	1    2600 4800
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Linear:LD1117S33TR_SOT223 U?
U 1 1 5BB5309D
P 7600 1500
F 0 "U?" H 7600 1742 50  0000 C CNN
F 1 "LD1117S33TR_SOT223" H 7600 1651 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 7600 1700 50  0001 C CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00000544.pdf" H 7700 1250 50  0001 C CNN
	1    7600 1500
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal_GND24 Y?
U 1 1 5BB5331F
P 9150 6000
F 0 "Y?" H 9341 6046 50  0000 L CNN
F 1 "Crystal_GND24" H 9341 5955 50  0000 L CNN
F 2 "" H 9150 6000 50  0001 C CNN
F 3 "~" H 9150 6000 50  0001 C CNN
	1    9150 6000
	1    0    0    -1  
$EndComp
$Comp
L Interface_CAN_LIN:SN65HVD230 U?
U 1 1 5BB4BBE2
P 6950 5550
F 0 "U?" H 6950 6028 50  0000 C CNN
F 1 "SN65HVD230" H 6950 5937 50  0000 C CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 6950 5050 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/sn65hvd230.pdf" H 6850 5950 50  0001 C CNN
	1    6950 5550
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR?
U 1 1 5BB6519F
P 6250 1200
F 0 "#PWR?" H 6250 1050 50  0001 C CNN
F 1 "+12V" H 6265 1373 50  0000 C CNN
F 2 "" H 6250 1200 50  0001 C CNN
F 3 "" H 6250 1200 50  0001 C CNN
	1    6250 1200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5BB658F5
P 6950 1650
F 0 "C?" H 7000 1750 50  0000 L CNN
F 1 "100n" H 7000 1550 50  0000 L CNN
F 2 "" H 6988 1500 50  0001 C CNN
F 3 "~" H 6950 1650 50  0001 C CNN
	1    6950 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	7300 1500 6950 1500
$Comp
L power:GND #PWR?
U 1 1 5BB65B54
P 6950 1900
F 0 "#PWR?" H 6950 1650 50  0001 C CNN
F 1 "GND" H 6955 1727 50  0000 C CNN
F 2 "" H 6950 1900 50  0001 C CNN
F 3 "" H 6950 1900 50  0001 C CNN
	1    6950 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	6950 1800 6950 1900
$Comp
L power:GND #PWR?
U 1 1 5BB65B83
P 7600 1900
F 0 "#PWR?" H 7600 1650 50  0001 C CNN
F 1 "GND" H 7605 1727 50  0000 C CNN
F 2 "" H 7600 1900 50  0001 C CNN
F 3 "" H 7600 1900 50  0001 C CNN
	1    7600 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 1800 7600 1900
$Comp
L power:GND #PWR?
U 1 1 5BB65DD7
P 8200 1900
F 0 "#PWR?" H 8200 1650 50  0001 C CNN
F 1 "GND" H 8205 1727 50  0000 C CNN
F 2 "" H 8200 1900 50  0001 C CNN
F 3 "" H 8200 1900 50  0001 C CNN
	1    8200 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	8200 1800 8200 1900
$Comp
L power:VCC #PWR?
U 1 1 5BB65E76
P 8350 1450
F 0 "#PWR?" H 8350 1300 50  0001 C CNN
F 1 "VCC" H 8367 1623 50  0000 C CNN
F 2 "" H 8350 1450 50  0001 C CNN
F 3 "" H 8350 1450 50  0001 C CNN
	1    8350 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 1500 8350 1450
$Comp
L Device:D_Schottky D?
U 1 1 5BB66401
P 10150 1700
F 0 "D?" V 10104 1621 50  0000 R CNN
F 1 "B2100-13-F" V 10195 1621 50  0000 R CNN
F 2 "" H 10150 1700 50  0001 C CNN
F 3 "~" H 10150 1700 50  0001 C CNN
	1    10150 1700
	0    -1   1    0   
$EndComp
$Comp
L Jumper:Jumper_3_Bridged12 JP?
U 1 1 5BB66870
P 6550 1500
F 0 "JP?" V 6596 1566 50  0000 L CNN
F 1 "Jumper" V 6505 1566 50  0000 L CNN
F 2 "" H 6550 1500 50  0001 C CNN
F 3 "~" H 6550 1500 50  0001 C CNN
	1    6550 1500
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6700 1500 6950 1500
Connection ~ 6950 1500
Wire Wire Line
	6550 1250 6550 1200
Wire Wire Line
	6550 1200 6250 1200
Wire Wire Line
	6000 1200 6000 1750
Wire Wire Line
	6000 1750 6550 1750
Text Notes 5850 850  0    100  ~ 20
Power Management
Wire Notes Line
	5800 650  8600 650 
Wire Notes Line
	8600 650  8600 2300
Wire Notes Line
	8600 2300 5800 2300
Wire Notes Line
	5800 650  5800 2300
$Comp
L Connector:USB_OTG J?
U 1 1 5BB676A0
P 1200 2450
F 0 "J?" H 1255 2917 50  0000 C CNN
F 1 "USB_OTG" H 1255 2826 50  0000 C CNN
F 2 "" H 1350 2400 50  0001 C CNN
F 3 " ~" H 1350 2400 50  0001 C CNN
	1    1200 2450
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5BB67799
P 1100 1300
F 0 "J?" H 1020 1517 50  0000 C CNN
F 1 "Conn_01x02" H 1020 1426 50  0000 C CNN
F 2 "" H 1100 1300 50  0001 C CNN
F 3 "~" H 1100 1300 50  0001 C CNN
	1    1100 1300
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5BB67A66
P 1150 2950
F 0 "#PWR?" H 1150 2700 50  0001 C CNN
F 1 "GND" H 1155 2777 50  0000 C CNN
F 2 "" H 1150 2950 50  0001 C CNN
F 3 "" H 1150 2950 50  0001 C CNN
	1    1150 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 2850 1100 2950
Wire Wire Line
	1100 2950 1150 2950
NoConn ~ 1500 2650
$Comp
L Device:C C?
U 1 1 5BB69164
P 9400 1750
F 0 "C?" H 9515 1796 50  0000 L CNN
F 1 "C" H 9515 1705 50  0000 L CNN
F 2 "" H 9438 1600 50  0001 C CNN
F 3 "~" H 9400 1750 50  0001 C CNN
	1    9400 1750
	1    0    0    -1  
$EndComp
Text GLabel 1600 2450 2    50   Input ~ 0
D+
Text GLabel 1600 2550 2    50   Input ~ 0
D-
$Comp
L power:+12V #PWR?
U 1 1 5BB6E536
P 1500 1250
F 0 "#PWR?" H 1500 1100 50  0001 C CNN
F 1 "+12V" H 1515 1423 50  0000 C CNN
F 2 "" H 1500 1250 50  0001 C CNN
F 3 "" H 1500 1250 50  0001 C CNN
	1    1500 1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 1300 1500 1300
Wire Wire Line
	1500 1300 1500 1250
$Comp
L power:GND #PWR?
U 1 1 5BB6E7C0
P 1500 1450
F 0 "#PWR?" H 1500 1200 50  0001 C CNN
F 1 "GND" H 1505 1277 50  0000 C CNN
F 2 "" H 1500 1450 50  0001 C CNN
F 3 "" H 1500 1450 50  0001 C CNN
	1    1500 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 1400 1500 1400
Wire Wire Line
	1500 1400 1500 1450
Text GLabel 1550 4400 0    50   Output ~ 0
D+
Text GLabel 1550 4500 0    50   Output ~ 0
D-
Wire Wire Line
	2600 5800 2600 5850
Wire Wire Line
	2800 5850 2800 5800
Wire Wire Line
	2600 5850 2700 5850
Wire Wire Line
	2700 5800 2700 5850
Connection ~ 2700 5850
Wire Wire Line
	2700 5850 2800 5850
$Comp
L power:VBUS #PWR?
U 1 1 5BB799A9
P 3050 2150
F 0 "#PWR?" H 3050 2000 50  0001 C CNN
F 1 "VBUS" H 3065 2323 50  0000 C CNN
F 2 "" H 3050 2150 50  0001 C CNN
F 3 "" H 3050 2150 50  0001 C CNN
	1    3050 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1500 2450 1600 2450
Wire Wire Line
	1500 2550 1600 2550
$Comp
L Device:C C?
U 1 1 5BB7AFA9
P 2200 2500
F 0 "C?" H 2250 2600 50  0000 L CNN
F 1 "100n" H 2250 2400 50  0000 L CNN
F 2 "" H 2238 2350 50  0001 C CNN
F 3 "~" H 2200 2500 50  0001 C CNN
	1    2200 2500
	1    0    0    -1  
$EndComp
NoConn ~ 1800 5000
NoConn ~ 1800 5200
Wire Wire Line
	7900 1500 8200 1500
$Comp
L Device:C C?
U 1 1 5BB8FDA7
P 8200 1650
F 0 "C?" H 8250 1750 50  0000 L CNN
F 1 "4u7" H 8250 1550 50  0000 L CNN
F 2 "" H 8238 1500 50  0001 C CNN
F 3 "~" H 8200 1650 50  0001 C CNN
	1    8200 1650
	1    0    0    -1  
$EndComp
Connection ~ 8200 1500
Wire Wire Line
	8200 1500 8350 1500
$Comp
L Device:C C?
U 1 1 5BB8FE78
P 1900 2500
F 0 "C?" H 1950 2600 50  0000 L CNN
F 1 "4u7" H 1950 2400 50  0000 L CNN
F 2 "" H 1938 2350 50  0001 C CNN
F 3 "~" H 1900 2500 50  0001 C CNN
	1    1900 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	1500 2250 1900 2250
Wire Wire Line
	1900 2250 1900 2350
Wire Wire Line
	2200 2250 2200 2350
Wire Wire Line
	1150 2950 1200 2950
Wire Wire Line
	1200 2950 1200 2850
Connection ~ 1150 2950
$Comp
L power:GND #PWR?
U 1 1 5BB92CC0
P 1900 2800
F 0 "#PWR?" H 1900 2550 50  0001 C CNN
F 1 "GND" H 1905 2627 50  0000 C CNN
F 2 "" H 1900 2800 50  0001 C CNN
F 3 "" H 1900 2800 50  0001 C CNN
	1    1900 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 2650 1900 2800
$Comp
L power:GND #PWR?
U 1 1 5BB936FA
P 2200 2800
F 0 "#PWR?" H 2200 2550 50  0001 C CNN
F 1 "GND" H 2205 2627 50  0000 C CNN
F 2 "" H 2200 2800 50  0001 C CNN
F 3 "" H 2200 2800 50  0001 C CNN
	1    2200 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 2650 2200 2800
$Comp
L Device:D_Schottky D?
U 1 1 5BB942C1
P 2650 2250
F 0 "D?" H 2650 2350 50  0000 C CNN
F 1 "B2100-13-F" H 2650 2150 50  0000 C CNN
F 2 "" H 2650 2250 50  0001 C CNN
F 3 "~" H 2650 2250 50  0001 C CNN
	1    2650 2250
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2800 2250 3050 2250
Wire Wire Line
	3050 2250 3050 2150
Wire Wire Line
	1550 4400 1800 4400
Wire Wire Line
	1550 4500 1800 4500
$Comp
L power:VBUS #PWR?
U 1 1 5BB99EB3
P 6000 1200
F 0 "#PWR?" H 6000 1050 50  0001 C CNN
F 1 "VBUS" H 6015 1373 50  0000 C CNN
F 2 "" H 6000 1200 50  0001 C CNN
F 3 "" H 6000 1200 50  0001 C CNN
	1    6000 1200
	1    0    0    -1  
$EndComp
NoConn ~ 1800 4800
Wire Wire Line
	1800 5500 1750 5500
Wire Wire Line
	1750 5500 1750 5850
$Comp
L power:GND #PWR?
U 1 1 5BB9FC88
P 1050 5950
F 0 "#PWR?" H 1050 5700 50  0001 C CNN
F 1 "GND" H 1055 5777 50  0000 C CNN
F 2 "" H 1050 5950 50  0001 C CNN
F 3 "" H 1050 5950 50  0001 C CNN
	1    1050 5950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5BB9FCD6
P 1050 4300
F 0 "C?" H 1100 4400 50  0000 L CNN
F 1 "100n" H 1100 4200 50  0000 L CNN
F 2 "" H 1088 4150 50  0001 C CNN
F 3 "~" H 1050 4300 50  0001 C CNN
	1    1050 4300
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 5850 2400 5850
Wire Wire Line
	2400 5850 2400 5800
Connection ~ 2600 5850
Wire Wire Line
	2400 5850 1750 5850
Connection ~ 2400 5850
Connection ~ 1750 5850
Wire Wire Line
	1050 4100 1050 4150
Wire Wire Line
	1050 4100 1800 4100
Wire Wire Line
	1050 4450 1050 5850
Wire Wire Line
	1050 5850 1750 5850
Wire Wire Line
	1050 5850 1050 5950
Connection ~ 1050 5850
Wire Wire Line
	2500 3800 2500 3700
Wire Wire Line
	2700 3800 2700 3700
$Comp
L power:VBUS #PWR?
U 1 1 5BBA7E35
P 2700 3700
F 0 "#PWR?" H 2700 3550 50  0001 C CNN
F 1 "VBUS" H 2715 3873 50  0000 C CNN
F 2 "" H 2700 3700 50  0001 C CNN
F 3 "" H 2700 3700 50  0001 C CNN
	1    2700 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 4100 3750 4100
Wire Wire Line
	3400 4200 3750 4200
Text GLabel 3750 4100 2    50   Output ~ 0
USB_RX
Text GLabel 3750 4200 2    50   Input ~ 0
USB_TX
$Comp
L Device:C C?
U 1 1 5BBA9CCE
P 3600 4500
F 0 "C?" V 3450 4500 50  0000 C CNN
F 1 "100n" V 3750 4500 50  0000 C CNN
F 2 "" H 3638 4350 50  0001 C CNN
F 3 "~" H 3600 4500 50  0001 C CNN
	1    3600 4500
	0    1    1    0   
$EndComp
Wire Wire Line
	3400 4500 3450 4500
Wire Wire Line
	3750 4500 3800 4500
Text GLabel 3800 4500 2    50   Input ~ 0
RESET
Connection ~ 1900 2250
Connection ~ 2200 2250
Wire Wire Line
	1900 2250 2200 2250
Wire Wire Line
	2200 2250 2500 2250
$Comp
L Device:LED D?
U 1 1 5BBB6320
P 4250 4650
F 0 "D?" H 4250 4750 50  0000 C CNN
F 1 "LED" H 4250 4550 50  0000 C CNN
F 2 "" H 4250 4650 50  0001 C CNN
F 3 "~" H 4250 4650 50  0001 C CNN
	1    4250 4650
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4250 5100 4250 4800
$Comp
L Device:LED D?
U 1 1 5BBBA43A
P 4550 4650
F 0 "D?" H 4550 4750 50  0000 C CNN
F 1 "LED" H 4550 4550 50  0000 C CNN
F 2 "" H 4550 4650 50  0001 C CNN
F 3 "~" H 4550 4650 50  0001 C CNN
	1    4550 4650
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4550 4800 4550 5200
$Comp
L Device:R R?
U 1 1 5BBBB521
P 4250 4250
F 0 "R?" H 4300 4400 50  0000 L CNN
F 1 "R??" H 4300 4100 50  0000 L CNN
F 2 "" V 4180 4250 50  0001 C CNN
F 3 "~" H 4250 4250 50  0001 C CNN
	1    4250 4250
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5BBBB635
P 4550 4250
F 0 "R?" H 4600 4400 50  0000 L CNN
F 1 "R??" H 4600 4100 50  0000 L CNN
F 2 "" V 4480 4250 50  0001 C CNN
F 3 "~" H 4550 4250 50  0001 C CNN
	1    4550 4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 4400 4250 4500
Wire Wire Line
	4550 4400 4550 4500
Text Notes 850  900  0    197  ~ 39
Careful Vcc = 3.3V!!!!
$Comp
L power:VCC #PWR?
U 1 1 5BBBDD97
P 2500 3700
F 0 "#PWR?" H 2500 3550 50  0001 C CNN
F 1 "VCC" H 2517 3873 50  0000 C CNN
F 2 "" H 2500 3700 50  0001 C CNN
F 3 "" H 2500 3700 50  0001 C CNN
	1    2500 3700
	1    0    0    -1  
$EndComp
Text Notes 1600 1300 0    50   ~ 10
Add Diode
$Comp
L power:VCC #PWR?
U 1 1 5BBBE066
P 4250 3700
F 0 "#PWR?" H 4250 3550 50  0001 C CNN
F 1 "VCC" H 4267 3873 50  0000 C CNN
F 2 "" H 4250 3700 50  0001 C CNN
F 3 "" H 4250 3700 50  0001 C CNN
	1    4250 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 3700 4250 4100
$Comp
L power:VCC #PWR?
U 1 1 5BBBF0A2
P 4550 3700
F 0 "#PWR?" H 4550 3550 50  0001 C CNN
F 1 "VCC" H 4567 3873 50  0000 C CNN
F 2 "" H 4550 3700 50  0001 C CNN
F 3 "" H 4550 3700 50  0001 C CNN
	1    4550 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4550 4100 4550 3700
Wire Wire Line
	3400 5100 4250 5100
Wire Wire Line
	3400 5200 4550 5200
NoConn ~ 3400 5300
NoConn ~ 3400 5400
NoConn ~ 3400 5500
NoConn ~ 3400 4600
NoConn ~ 3400 4700
NoConn ~ 3400 4800
NoConn ~ 3400 4300
NoConn ~ 3400 4400
Text Notes 1150 3450 0    50   ~ 0
Put USB-UART Transceiver on main carrier?\nMaybe on second carrier -> reduces cost -> USB not often used
$EndSCHEMATC
